@startuml Payment System

' Define packages
package "Payment System" {
    class Payment {
        +id: int
        +user_id: int
        +amount: float
        +currency: string
        +status: string
        +gateway: string
        +transaction_id: string
        +payment_details: json
        +created_at: timestamp
        +updated_at: timestamp
    }

    class PaymentGateway {
        +id: int
        +name: string
        +is_active: boolean
        +test_mode: boolean
        +credentials: json
        +webhook_url: string
    }

    class Transaction {
        +id: int
        +payment_id: int
        +type: string
        +amount: float
        +status: string
        +metadata: json
        +created_at: timestamp
    }
}

' Define relationships
Payment "1" -- "1" PaymentGateway : uses >
Payment "1" -- "*" Transaction : has >

' Define enums
enum PaymentStatus {
    PENDING
    COMPLETED
    FAILED
    REFUNDED
    CANCELLED
}

enum TransactionType {
    PURCHASE
    REFUND
    PAYOUT
    COMMISSION
}

enum GatewayType {
    PAYPAL
    STRIPE
    RAZORPAY
    SKRILL
    PAYU
    SSLCOMMERZ
    PAGSEGURO
    XENDIT
    DOKU
    BKASH
    CASHFREE
    MAXICASH
    AAMARPAY
    FLUTTERWAVE
    TAZAPAY
}

' Add notes
note right of Payment
  Handles payment processing,
  verification, and status
  tracking
end note

note right of PaymentGateway
  Manages gateway
  configurations and
  credentials
end note

note right of Transaction
  Records all payment-related
  activities and changes
end note

@enduml 