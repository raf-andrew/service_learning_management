@startuml System Architecture

package "API Gateway" {
    [API Gateway] as Gateway
    [Rate Limiter] as RateLimit
    [Request Validator] as Validator
}

package "Core Services" {
    [Auth Service] as Auth
    [User Service] as User
    [Course Service] as Course
    [Content Service] as Content
    [Payment Service] as Payment
    [Notification Service] as Notify
}

package "External Services" {
    [Payment Gateway] as PaymentGateway
    [Email Service] as Email
    [Storage Service] as Storage
    [Video Processing] as Video
}

database "Database" {
    frame "Tenant 1" {
        database "Users" as DB1
        database "Courses" as DB2
    }
    frame "Tenant 2" {
        database "Users" as DB3
        database "Courses" as DB4
    }
}

package "Frontend" {
    [Web Client] as Web
    [Mobile Client] as Mobile
    [Admin Dashboard] as Admin
}

Gateway --> RateLimit
Gateway --> Validator

Gateway --> Auth
Gateway --> User
Gateway --> Course
Gateway --> Content
Gateway --> Payment
Gateway --> Notify

Auth --> DB1
Auth --> DB3
User --> DB1
User --> DB3
Course --> DB2
Course --> DB4
Content --> DB2
Content --> DB4
Payment --> DB1
Payment --> DB3

Payment --> PaymentGateway
Notify --> Email
Content --> Storage
Content --> Video

Web --> Gateway
Mobile --> Gateway
Admin --> Gateway

@enduml 