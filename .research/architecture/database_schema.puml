@startuml Database Schema

' Entities
entity users {
  + id: int <<PK>>
  --
  first_name: string
  last_name: string
  email: string
  password: string
  role: enum
  status: enum
  created_at: timestamp
  updated_at: timestamp
}

entity courses {
  + id: int <<PK>>
  --
  title: string
  description: text
  instructor_id: int <<FK>>
  category_id: int <<FK>>
  price: decimal
  status: enum
  created_at: timestamp
  updated_at: timestamp
}

entity course_content {
  + id: int <<PK>>
  --
  course_id: int <<FK>>
  title: string
  content_type: enum
  content: text
  order: int
  created_at: timestamp
  updated_at: timestamp
}

entity enrollments {
  + id: int <<PK>>
  --
  user_id: int <<FK>>
  course_id: int <<FK>>
  status: enum
  enrolled_at: timestamp
  completed_at: timestamp
}

entity payments {
  + id: int <<PK>>
  --
  user_id: int <<FK>>
  course_id: int <<FK>>
  amount: decimal
  status: enum
  payment_method: string
  transaction_id: string
  created_at: timestamp
}

entity categories {
  + id: int <<PK>>
  --
  name: string
  description: text
  parent_id: int <<FK>>
  created_at: timestamp
  updated_at: timestamp
}

' Relationships
users ||--o{ courses
users ||--o{ enrollments
users ||--o{ payments

courses ||--o{ course_content
courses ||--o{ enrollments
courses ||--o{ payments

categories ||--o{ courses
categories ||--o{ categories

@enduml 