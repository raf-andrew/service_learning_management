@startuml Payment System

' Enums
enum PaymentStatus {
    PENDING
    COMPLETED
    FAILED
    REFUNDED
}

enum PaymentType {
    COURSE_PURCHASE
    INSTRUCTOR_PAYOUT
    SUBSCRIPTION
    REFUND
}

enum GatewayType {
    PAYPAL
    STRIPE
    RAZORPAY
    SKRILL
    PAYU
    SSLCOMMERZ
    PAGSEGURO
    XENDIT
    DOKU
    BKASH
    CASHFREE
    MAXICASH
    AAMARPAY
    FLUTTERWAVE
    TAZAPAY
}

' Classes
class Payment {
    +id: int
    +user_id: int
    +amount: float
    +payment_type: PaymentType
    +status: PaymentStatus
    +gateway: GatewayType
    +transaction_id: string
    +payment_details: json
    +date_added: timestamp
    +last_modified: timestamp
}

class PaymentItem {
    +id: int
    +payment_id: int
    +item_id: int
    +item_type: string
    +title: string
    +thumbnail: string
    +creator_id: int
    +price: float
    +discounted_price: float
    +actual_price: float
}

class PaymentGateway {
    +id: int
    +name: string
    +type: GatewayType
    +credentials: json
    +is_active: boolean
    +test_mode: boolean
    +date_added: timestamp
    +last_modified: timestamp
}

' Relationships
Payment "1" -- "1..*" PaymentItem : contains >
Payment "1" -- "1" PaymentGateway : uses >

' Notes
note right of Payment
    Represents a payment transaction
    with its status and gateway details
end note

note right of PaymentItem
    Represents items purchased
    or paid for in a transaction
end note

note right of PaymentGateway
    Stores configuration and
    credentials for payment gateways
end note

@enduml 