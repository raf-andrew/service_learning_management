{
    "version": "1.0.0",
    "services": {
        "mcp": {
            "name": "MCP Service",
            "type": "api",
            "ports": [8080],
            "health_endpoint": "/health",
            "dependencies": ["database", "cache", "queue"],
            "environment": {
                "MCP_API_KEY": "${MCP_API_KEY}",
                "MCP_ENV": "codespaces"
            }
        },
        "database": {
            "name": "PostgreSQL Database",
            "type": "database",
            "ports": [5432],
            "health_check": "pg_isready",
            "dependencies": [],
            "environment": {
                "DB_HOST": "${CODESPACES_DB_HOST}",
                "DB_PORT": "5432",
                "DB_NAME": "service_learning",
                "DB_USER": "${CODESPACES_DB_USERNAME}",
                "DB_PASSWORD": "${CODESPACES_DB_PASSWORD}"
            }
        },
        "cache": {
            "name": "Redis Cache",
            "type": "cache",
            "ports": [6379],
            "health_check": "redis-cli ping",
            "dependencies": [],
            "environment": {
                "REDIS_HOST": "${CODESPACES_REDIS_HOST}",
                "REDIS_PORT": "6379",
                "REDIS_PASSWORD": "${CODESPACES_REDIS_PASSWORD}"
            }
        },
        "queue": {
            "name": "RabbitMQ Queue",
            "type": "queue",
            "ports": [5672, 15672],
            "health_check": "rabbitmqctl status",
            "dependencies": [],
            "environment": {
                "RABBITMQ_HOST": "${CODESPACES_RABBITMQ_HOST}",
                "RABBITMQ_PORT": "5672",
                "RABBITMQ_USER": "${CODESPACES_RABBITMQ_USERNAME}",
                "RABBITMQ_PASSWORD": "${CODESPACES_RABBITMQ_PASSWORD}"
            }
        },
        "mail": {
            "name": "Mail Service",
            "type": "mail",
            "ports": [587],
            "health_check": "smtp-check",
            "dependencies": [],
            "environment": {
                "MAIL_HOST": "${CODESPACES_MAIL_HOST}",
                "MAIL_PORT": "587",
                "MAIL_USERNAME": "${CODESPACES_MAIL_USERNAME}",
                "MAIL_PASSWORD": "${CODESPACES_MAIL_PASSWORD}"
            }
        },
        "mysql": {
            "enabled": true,
            "host": "localhost",
            "port": 3306,
            "database": "service_learning",
            "username": "root",
            "password": "${CODESPACES_DB_PASSWORD}",
            "health_check": {
                "type": "tcp",
                "timeout": 5,
                "retries": 3
            }
        },
        "redis": {
            "enabled": true,
            "host": "localhost",
            "port": 6379,
            "password": null,
            "health_check": {
                "type": "tcp",
                "timeout": 5,
                "retries": 3
            }
        },
        "mailhog": {
            "enabled": true,
            "host": "localhost",
            "smtp_port": 1025,
            "web_port": 8025,
            "health_check": {
                "type": "tcp",
                "timeout": 5,
                "retries": 3
            }
        }
    },
    "deployments": {
        "tracking": {
            "enabled": true,
            "storage": {
                "type": "git",
                "path": ".codespaces/deployments"
            },
            "metrics": {
                "enabled": true,
                "collection_interval": 300
            }
        }
    },
    "monitoring": {
        "logging": {
            "enabled": true,
            "level": "debug",
            "storage": {
                "type": "file",
                "path": ".codespaces/logs"
            },
            "retention": {
                "days": 30,
                "max_size": "1GB"
            }
        },
        "auditing": {
            "enabled": true,
            "events": [
                "deployment",
                "configuration_change",
                "service_state_change",
                "health_check",
                "error"
            ],
            "storage": {
                "type": "file",
                "path": ".codespaces/audit"
            }
        },
        "self_healing": {
            "enabled": true,
            "max_retries": 3,
            "retry_delay": 30,
            "actions": {
                "service_restart": true,
                "configuration_reset": true,
                "dependency_check": true
            }
        }
    },
    "logging": {
        "enabled": true,
        "directory": ".codespaces/log",
        "levels": ["info", "warning", "error"],
        "max_files": 100,
        "max_size": "10MB"
    },
    "testing": {
        "enabled": true,
        "directory": ".codespaces/testing",
        "results_directory": ".codespaces/testing/results",
        "failures_directory": ".codespaces/testing/failures",
        "complete_directory": ".codespaces/testing/complete",
        "health_check_required": true
    }
} 