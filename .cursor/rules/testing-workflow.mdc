---
description:
globs:
alwaysApply: false
---
# Testing Workflow and Procedures

## Test Execution Flow
1. Environment Detection
   - Run [detect-environment.ps1](mdc:.codespaces/testing/scripts/detect-environment.ps1)
   - Determine Docker availability
   - Set container name

2. Environment Tests
   - PHP installation
   - Required extensions
   - Service connections
   - Skip Docker tests if not available

3. Codespaces Tests
   - DevContainer configuration
   - Service definitions
   - Build scripts
   - Dependencies

4. Feature Tests
   - Run Laravel tests
   - Generate coverage reports
   - Update checklist

## Test Results Management
- Reports are generated in Markdown format
- JSON tracking data for programmatic access
- Checklist updates with report references
- Historical tracking in `.test/tracking/`

## Environment-Specific Behavior
- Docker Available:
  - Run all tests in container
  - Use container networking
  - Test service connections

- Docker Unavailable:
  - Skip container tests
  - Test local services
  - Log limitations in report

## Checklist Integration
- Each test updates [checklist-tracking.json](mdc:.test/checklist-tracking.json)
- Reports are referenced in checklist
- Completion status is tracked
- Historical data is maintained
